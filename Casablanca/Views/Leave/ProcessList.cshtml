@using Casablanca.Models
@using Casablanca.Models.Leaves

@{
    ViewBag.Title = "Traiter les congés";
}

@model  List<Leave>

<div class="col-lg-5">
    <h2 style="text-align:center;">Calendrier des congés actuels</h2>
    <div id="calendar"></div>
</div>

<div class="col-lg-7">
    <h2>Demandes de congés en cours</h2>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Collaborateur</th>
                <th scope="col">Dates demandées</th>
                <th scope="col">Date de la demande</th>
                <th scope="col">Traiter</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">1</th>
                <td>Morgan FEURTE</td>
                <td>19/08 -> 23/08</td>
                <td>17/08</td>
                <td><button class="btn">Valider congé</button></td>
            </tr>
            <tr>
                <th scope="row">2</th>
                <td>Jeffrey GONCALVES</td>
                <td>01/01 -> 31/12</td>
                <td>01/01</td>
                <td><button class="btn">Valider congé</button></td>
            </tr>
            <tr>
                <th scope="row">3</th>
                <td>Adrien LAVILLONNIERE</td>
                <td>17/08 -> 23/08</td>
                <td>13/08</td>
                <td><button class="btn">Valider congé</button></td>
            </tr>
            <tr>
                <th scope="row">4</th>
                <td>Minh NGUYEN</td>
                <td>19/08 -> 20/08</td>
                <td>09/08</td>
                <td><button class="btn">Valider congé</button></td>
            </tr>
			<tr>
				<th scope="row">5</th>
				<td>Yao SHI</td>
				<td>01/08 -> 23/08</td>
				<td>01/08</td>
				<td><button class="btn">Valider congé</button></td>
			</tr>
        </tbody>
    </table>
</div>

@section Scripts
{
    <script src="~/Scripts/moment.js"></script>

    <script>
    // Conversion des données de congés en javascript et création du calendrier
    var data = @JavaScriptConverter.SerializeObject(Model);
    var calendar = new Calendar("#calendar", data);
    </script>
}
